# 英語学習アプリ 要件定義書（最新版）

## 1. 概要
- ニュース記事を題材に、AI（英語教師）とユーザーがチャット形式で英語学習を行うアプリ。
- 設問（要約・語彙・読解・ディスカッション）にAIが出題・評価し、最後にサマリーを生成。

---

## 2. 画面構成

### 2.1 ホーム画面
- ニュース記事の選択・入力

### 2.2 レッスン画面（チャットUI）
- 上部：選択した記事の表示
- 下部：AIとユーザーのチャットインターフェース

#### チャットUIの仕様
- **AIメッセージ**  
  - 左側に「先生アイコン（public/teacher-avatar.png）」を丸型で表示
  - バブル内に「AI: ...」のテキスト
  - アイコンは`<img src="./teacher-avatar.png" ... />`で表示、サイズ40x40px、丸型、青枠
- **ユーザーメッセージ**  
  - 右側に「ユーザーアイコン（public/user.png）」を丸型で表示
  - バブル内に「あなた: ...」のテキスト
  - アイコンは`<img src="./user.png" ... />`で表示、サイズ40x40px、丸型、灰色枠
- **AIフィードバック**  
  - AIアイコン（先生アイコン）＋緑色バブルでスコア・アドバイス等を表示
- **バブルデザイン**  
  - 各メッセージは吹き出し（バブル）で表示
  - AIは左寄せ、ユーザーは右寄せ

---

## 3. 設問・評価・サマリー

### 3.1 設問生成
- 記事からAIが一括で設問（要約・語彙2問・読解2問・ディスカッション）をJSON形式で生成

### 3.2 回答・評価
- ユーザーが各設問に回答
- AIがJSON形式でスコア・フィードバック・模範解答等を返す

### 3.3 サマリー生成
- 全設問終了後、「Summary」ボタンでAIがサマリーを生成
- サマリーはJSON形式で、学んだ語彙・フレーズ（英語＋日本語訳5つ）、良かった点、改善点、アドバイスを含む

---

## 4. ファイル・画像仕様

- 先生アイコン画像：`public/teacher-avatar.png`
  - 丸型、40x40px、青枠
- ユーザーアイコン画像：`public/user.png`
  - 丸型、40x40px、灰色枠
- 画像は`object-cover`で中央トリミング
- 画像参照は相対パス（`./teacher-avatar.png`、`./user.png`）

---

## 5. 技術仕様

- React + Electron + Vite構成
- 画像は`public`配下に配置し、ビルド後は`dist/renderer`配下にコピーされる
- チャットUIは`src/pages/Lesson.tsx`で実装
- バブル・アイコンのレイアウトはFlexboxで制御

---

## 6. 補足

- 画像が表示されない場合は、ビルド後の`dist/renderer`配下に画像がコピーされているか、パスが相対パスになっているかを確認
- サーバー起動・ビルド手順はREADME参照

---

ご要望・追加仕様があれば、随時追記・修正します。